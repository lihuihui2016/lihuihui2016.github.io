(function(t){function e(e){for(var o,a,r=e[0],s=e[1],u=e[2],d=0,l=[];d<r.length;d++)a=r[d],i[a]&&l.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);h&&h(e);while(l.length)l.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(c.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i={app:0},c=[];function r(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-00371a92":"aa0e2135","chunk-075c7744":"67104197","chunk-09154fd8":"ad30651d","chunk-2d0ddbe1":"01123502","chunk-2d20916c":"88a57afd","chunk-39725346":"c5fe8846","chunk-50b722f7":"d8c55077","chunk-752f8dd5":"95f47980","chunk-78aa1d40":"5a00dd8d","chunk-7bbb7ba6":"26ab8212","chunk-c976325a":"d0613425"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-00371a92":1,"chunk-075c7744":1,"chunk-09154fd8":1,"chunk-39725346":1,"chunk-50b722f7":1,"chunk-752f8dd5":1,"chunk-78aa1d40":1,"chunk-7bbb7ba6":1,"chunk-c976325a":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-00371a92":"0850bcb5","chunk-075c7744":"001610b9","chunk-09154fd8":"87261451","chunk-2d0ddbe1":"31d6cfe0","chunk-2d20916c":"31d6cfe0","chunk-39725346":"cd94ae51","chunk-50b722f7":"7336bf28","chunk-752f8dd5":"81a9e4ce","chunk-78aa1d40":"4a77cac2","chunk-7bbb7ba6":"2974b71c","chunk-c976325a":"864f0604"}[t]+".css",i=s.p+o,c=document.getElementsByTagName("link"),r=0;r<c.length;r++){var u=c[r],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===o||d===i))return e()}var l=document.getElementsByTagName("style");for(r=0;r<l.length;r++){u=l[r],d=u.getAttribute("data-href");if(d===o||d===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var o=e&&e.target&&e.target.src||i,c=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=o,delete a[t],h.parentNode.removeChild(h),n(c)},h.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(h)}).then(function(){a[t]=0}));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var c=new Promise(function(e,n){o=i[t]=[e,n]});e.push(o[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=r(t),u=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");c.type=o,c.request=a,n[1](c)}i[t]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var h=d;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"12c3":function(t,e,n){"use strict";var o=n("2f06"),a=n.n(o);a.a},"2e90":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listbox"},[n("div",[n("ul",t._l(t.goodList,function(t,e){return n("li",{key:e,staticClass:"clearfix"},[n("Item",{attrs:{good:t}})],1)}),0),n("p",{on:{click:t.getmore}},[t._v(t._s(t.msg))])]),t.flag?n("p",{staticClass:"boxBtn"},t._l(t.searchInfo,function(e,o){return n("span",{key:o,staticClass:"smallBtn",on:{click:t.toserch}},[t._v(" "+t._s(e))])}),0):t._e()])},a=[],i=n("cebc"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{attrs:{to:{name:"goodDetail",params:{goodId:t.good.id},query:{name:t.good.title,img:t.good.product_img}}}},[n("van-card",{attrs:{num:t.good.dealCnt,price:t.good.price,desc:t.good.location,title:t.good.title,thumb:t.good.product_img}})],1)],1)},r=[],s={props:["good"]},u=s,d=n("2877"),l=Object(d["a"])(u,c,r,!1,null,null,null),h=l.exports,m=(n("660a"),n("2f62")),f={props:["goods"],data:function(){return{msg:"加载更多",searchInfo:[],flag:!0,pageNumber:1,pageSize:8,goodList:[]}},components:{Item:h},computed:Object(i["a"])({},Object(m["c"])(["type","nType"])),methods:Object(i["a"])({},Object(m["b"])(["getThisTypeGoods"]),{toserch:function(t){var e=this;this.$axios.get("/vue/searchGoods",{params:{keyword:t.target.innerText}}).then(function(t){e.goods=t.data.result,e.goods.length>0&&(e.flag=!1)})},getmore:function(){var t=this;this.pageNumber=this.pageNumber+1,"全部加载完啦"!=this.msg&&(this.$axios.get("/vue/getGoodList",{params:{keyword:this.type,pageNumber:this.pageNumber,pageSize:this.pageSize}}).then(function(e){e.data.result<8&&(t.msg="全部加载完啦"),t.goodList=t.goodList.concat(e.data.result)}),console.log(this.goodList))}}),mounted:function(){var t=this;this.$axios.get("/vue/getGoodList",{params:{keyword:this.type,pageNumber:this.pageNumber,pageSize:this.pageSize}}).then(function(e){t.goodList=e.data.result}),localStorage.searchInfo&&(this.searchInfo=JSON.parse(localStorage.searchInfo))}},p=f,g=(n("e774"),Object(d["a"])(p,o,a,!1,null,"844a4f40",null));e["a"]=g.exports},"2f06":function(t,e,n){},"3d7f":function(t,e,n){"use strict";var o=n("9098"),a=n.n(o);a.a},"40b1":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("div",{staticClass:"wd"},[n("div",{staticClass:"clearfix "},[n("div",{staticClass:"fr circle",on:{click:t.close}},[n("h1",[t._v("X")])]),n("p")]),n("van-card",{attrs:{num:t.value,price:t.goodsDetail.price,desc:t.goodsDetail.title,title:t.goodsDetail.title,thumb:t.goodsDetail.img}}),n("div",{staticClass:"contentType"},[n("p",{staticClass:"colorSum"},[t._v(" 颜色分类")]),n("div",{staticClass:"colorType clearfix"},t._l(t.goodsDetail.color,function(e,o){return n("div",{key:o},[n("input",{attrs:{type:"radio",id:"aa"+o,name:"hh",value:"colorItem"}}),n("label",{attrs:{for:"aa"+o},on:{click:function(n){return t.addcolor(e)}}},[t._v(t._s(e))])])}),0),n("p",{staticClass:"colorSum"},[t._v(" 尺码")]),n("div",{staticClass:"colorType clearfix"},t._l(t.goodsDetail.size,function(e,o){return n("div",{key:o},[n("input",{attrs:{type:"radio",id:"jj"+o,name:"size",value:"sizeItm}"}}),n("label",{attrs:{for:"jj"+o},on:{click:function(n){return t.addsize(e)}}},[t._v(t._s(e))])])}),0)]),n("p",{staticClass:"colorSum clearfix"},[n("span",[t._v("购买数量")]),n("van-stepper",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("button",{staticClass:"ok",on:{click:t.addMycar}},[t._v(" 确定")])],1),n("div",{attrs:{id:"tishi"}},[t._v("请选择商品规格")]),n("div",{staticClass:"q"})])},a=[],i=(n("660a"),n("2f62"),{props:["goodsDetail","from"],data:function(){return{colorItem:"",sizeItem:"",value:"1",searchInfo:[" 黑色"," 白色"],imageURL:"//img.yzcdn.cn/upload_files/2017/07/02/af5b9f44deaeb68000d7e4a711160c53.jpg"}},methods:{addcolor:function(t){var e=document.getElementById("tishi");e.style.display="none",this.colorItem=t,console.log(this.from)},addsize:function(t){var e=document.getElementById("tishi");e.style.display="none",this.sizeItem=t},addMycar:function(){var t=this;if(this.colorItem&&this.sizeItem)this.$axios.post("/vue/addCart",{body:{userid:window.sessionStorage.userid,count:this.value,color:this.colorItem,size:this.sizeItem,id:this.goodsDetail.id,title:this.goodsDetail.title,price:this.goodsDetail.price,remain:this.goodsDetail.remain,img:this.goodsDetail.img}}).then(function(e){var n=[];"0"==e.data.type?(console.log(e),n.push(e.data.args._id)):"1"==e.data.type&&n.push(e.data.result.insertedIds[0]),"add"==t.from?t.$emit("close",!1):"buy"==t.from&&t.$router.push({name:"pay",query:{getNewId:n}})});else{var e=document.getElementById("tishi");e.style.display="block"}},close:function(){this.$emit("close",!1)}},mounted:function(){}}),c=i,r=(n("3d7f"),n("2877")),s=Object(r["a"])(c,o,a,!1,null,"3a586b3c",null);e["a"]=s.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-view",{staticClass:"box"})],1)])},i=[],c=(n("5c0b"),n("2877")),r={},s=Object(c["a"])(r,a,i,!1,null,null,null),u=s.exports,d=n("8c4f"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("Header",{attrs:{title:"商品类型"}}),n("div",[n("sider")],1),n("shadowBox")],1)},h=[],m=n("40b1"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",[n("van-tree-select",{attrs:{items:t.items,"main-active-index":t.mainActiveIndex,"active-id":t.activeId},on:{navclick:t.onNavClick,itemclick:t.onItemClick}})],1)])},p=[],g={data:function(){return{items:[{text:"所有城市",children:[{text:"温州",id:1,disabled:!1},{text:"杭州",id:2}]},{text:"花花",children:[{text:"呵呵呵",id:1,disabled:!1},{text:"哈哈哈",id:2}]}],mainActiveIndex:0,activeId:1}},methods:{onNavClick:function(t){this.mainActiveIndex=t},onItemClick:function(t){this.activeId=t.id}}},b=g,v=Object(c["a"])(b,f,p,!1,null,null,null),k=v.exports,y={data:function(){return{show2:!1,columns:["杭州","宁波","温州","嘉兴","湖州"],color:["蓝色","黑色","红色","哈哈","湖州"]}},components:{sider:k,shadowBox:m["a"]}},C=y,_=Object(c["a"])(C,l,h,!1,null,null,null),x=_.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("Header",{attrs:{title:"购物车"}}),n("MyCart")],1)},I=[],O=n("cebc"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Head",{attrs:{title:"购物车",flag:!0}}),n("div",{staticClass:"content"},[n("van-checkbox-group",{staticClass:"card-goods",model:{value:t.checkedGoods,callback:function(e){t.checkedGoods=e},expression:"checkedGoods"}},t._l(t.nCar.goods,function(e,o){return n("van-checkbox",{key:o,staticClass:"card-goods__item",attrs:{name:e._id}},[n("van-card",{attrs:{title:e.title,desc:e.size,num:e.count,price:t.formatPrice(e.price),thumb:e.img,color:e.color}}),n("span",{staticClass:"v-cart_color"},[t._v(t._s(e.color))]),n("div",{staticClass:"foo"},[n("van-button",{attrs:{size:"mini"},on:{click:function(n){return n.stopPropagation(),t.addNum(e)}}},[t._v("+")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"item.count"}],staticClass:"inputChange",attrs:{type:"text",size:"mini"},domProps:{value:e.count},on:{input:function(n){n.target.composing||t.$set(e,"count",n.target.value)}}}),n("van-button",{attrs:{size:"mini"},on:{click:function(n){return n.stopPropagation(),t.reduceNum(e)}}},[t._v("-")])],1)],1)}),1),n("van-submit-bar",{attrs:{price:t.totalPrice,disabled:!t.checkedGoods.length,"button-text":t.submitBarText},on:{submit:t.onSubmit}})],1)],1)},w=[],$=n("2f62"),T={data:function(){return{value:1,checkedGoods:[],goods:[{id:"1",goodname:"进口香蕉",desc:"约250g，2根",goodprice:200,count:1,goodimg:"https://img.yzcdn.cn/public_files/2017/10/24/2f9a36046449dafb8608e99990b3c205.jpeg"}]}},computed:Object(O["a"])({},Object($["c"])(["nCar"]),{submitBarText:function(){var t=this.checkedGoods.length;return"结算"+(t?"(".concat(t,")"):"")},totalPrice:function(){var t=this;return this.nCar.goods.reduce(function(e,n){return e+(-1!==t.checkedGoods.indexOf(n)?n.price*n.count*100:0)},0)}},Object($["c"])(["nCar"])),methods:Object(O["a"])({},Object($["b"])(["getCarList"]),{addNum:function(t){var e=this;this.$axios.post("/vue/addCart",{body:{count:1*t.count+1,userid:t.userid,color:t.color,size:t.size,id:t.id}}).then(function(t){0==t.data.type&&e.$store.commit("countAdd"),e.getCarList({url:"/vue/getCarList",params:{userid:sessionStorage.getItem("userid")}})})},reduceNum:function(t){var e=this;document.getElementsByClassName("inputChange")[0];this.$axios.post("/vue/addCart",{body:{count:1*t.count-1,userid:t.userid,color:t.color,size:t.size,id:t.id}}).then(function(t){0==t.data.type&&e.$store.commit("countReduce"),console.log(t),e.getCarList({url:"/vue/getCarList",params:{userid:sessionStorage.getItem("userid")}})})},formatPrice:function(t){return(t/100*100).toFixed(2)},onSubmit:function(){this.$router.push({name:"pay",query:{getNewId:this.checkedGoods}})}}),created:function(){this.getCarList({url:"/vue/getCarList",params:{userid:sessionStorage.getItem("userid")}})},mounted:function(){}},N=T,z=(n("bd43"),Object(c["a"])(N,S,w,!1,null,"0e608b62",null)),L=z.exports,E={components:{MyCart:L},computed:Object(O["a"])({},Object($["c"])({count_1:"count",city_1:"city",msg_1:"msg"}),Object($["c"])(["count","city"])),methods:Object(O["a"])({change_num:function(){this.$store.dispatch("changeNum")}},Object($["b"])({count_add:"countAdd"}))},P=E,D=Object(c["a"])(P,j,I,!1,null,null,null),G=D.exports;o["default"].use(d["a"]);var A=new d["a"]({routes:[{path:"/",name:"guide",component:function(){return n.e("chunk-7bbb7ba6").then(n.bind(null,"4638"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-075c7744").then(n.bind(null,"a55b"))}},{path:"/register",name:"register",component:function(){return n.e("chunk-c976325a").then(n.bind(null,"73cf"))}},{path:"/search",name:"search",component:function(){return n.e("chunk-00371a92").then(n.bind(null,"2d3b"))}},{path:"/home",name:"home",component:function(){return n.e("chunk-78aa1d40").then(n.bind(null,"bb51"))},children:[{path:"",name:"index",component:function(){return n.e("chunk-39725346").then(n.bind(null,"d504"))}},{path:"/home/index",name:"index",component:function(){return n.e("chunk-39725346").then(n.bind(null,"d504"))}},{path:"/home/type",name:"type",component:x},{path:"/home/cart",name:"cart",component:G},{path:"/home/mine",name:"mine",component:function(){return n.e("chunk-50b722f7").then(n.bind(null,"0a4e"))}}]},{path:"/goodDetail/:goodId",name:"goodDetail",component:function(){return n.e("chunk-09154fd8").then(n.bind(null,"6490"))}},{path:"/address",name:"address",component:function(){return n.e("chunk-2d20916c").then(n.bind(null,"a821"))}},{path:"/editAddress",name:"editAddress",component:function(){return n.e("chunk-2d0ddbe1").then(n.bind(null,"834d"))}},{path:"/pay",name:"pay",component:function(){return n.e("chunk-752f8dd5").then(n.bind(null,"76a1"))}}]}),B=n("7f43"),M=n.n(B),q=n("660a"),H=n.n(q),J="";M.a.defaults.widthCredentials=!1,M.a.defaults.headers.common["token"]=J,M.a.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",M.a.interceptors.request.use(function(t){var e=window.sessionStorage.userInfo;return e&&(e=JSON.parse(e),J=e.token),t.headers.common["token"]=J,q["Indicator"].open({text:"加载中...",spinnerType:"triple-bounce"}),t},function(t){return Promise.reject(t)}),M.a.interceptors.response.use(function(t){return q["Indicator"].close(),Object(q["Toast"])({message:t.data.msg,duration:500}),"401"==t.data.code&&A.push({name:"login"}),t},function(t){return Promise.reject(t)});var F,R=M.a,U=n("bd86"),K="getThisTypeGoods",X="getCarList",Q={state:{goodList:{}},actions:{getThisTypeGoods:function(t,e){var n=t.commit,o=e.url,a=e.params;R.get(o,{params:a}).then(function(t){n(K,t.data.result)})}},mutations:Object(U["a"])({},K,function(t,e){t.goodList=e})},V={state:{checkedGoods:[],goods:{},count:0},actions:{getCarList:function(t,e){var n=t.commit,o=e.url,a=e.params;R.get(o,{params:a}).then(function(t){console.log(t.data),n(X,t.data.result)})}},mutations:(F={},Object(U["a"])(F,X,function(t,e){t.goods=e}),Object(U["a"])(F,"onSave",function(t){t.id+=1}),Object(U["a"])(F,"changeChecked",function(t,e){t.checkedGoods=e}),F),getters:{count:function(t){t.goods.filter(function(t,e){1*t.count})}}};o["default"].use($["a"]);var W=new $["a"].Store({modules:{nType:Q,nCar:V},state:{id:0,myCarCount:0,type:1},actions:{},mutations:{onSave:function(t){t.id+=1},changeNum:function(t,e){t.myCarCount=e},changeType:function(t,e){t.type=e},countReduce:function(t){t.myCarCount-=1},countAdd:function(t){t.myCarCount+=1}}}),Y=n("2ad4"),Z=(n("65b5"),n("b20f"),n("0e4e")),tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headerBottom"},[n("mt-header",{attrs:{title:t.title}},[t.backShow?n("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[n("mt-button",{attrs:{icon:"back"},on:{click:t.goback}},[t._v("返回")])],1):t._e(),t.searchShow?n("mt-button",{attrs:{slot:"right",icon:"search"},on:{click:t.goSearch},slot:"right"}):t._e()],1)],1)},et=[],nt=(n("7f7f"),{props:{title:String},data:function(){return{backShow:!0,searchShow:!0}},mounted:function(){this.searchShow="login"!=this.$route.name&&"register"!=this.$route.name&&"editAddress"!=this.$route.name&&"address"!=this.$route.name&&"mine"!=this.$route.name,this.backShow="type"!=this.$route.name&&"index"!=this.$route.name&&"cart"!=this.$route.name&&"mine"!=this.$route.name},methods:{goSearch:function(){this.$router.push({name:"search"})},goback:function(){this.$router.go(-1)}}}),ot=nt,at=(n("12c3"),Object(c["a"])(ot,tt,et,!1,null,"3029ec7e",null)),it=at.exports,ct=n("2e90");o["default"].use(Y["a"]),o["default"].use(H.a),o["default"].prototype.$axios=R,o["default"].use(Z["a"]),o["default"].component("Header",it),o["default"].component("List",ct["a"]),o["default"].config.productionTip=!1,new o["default"]({router:A,store:W,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(t,e,n){},9098:function(t,e,n){},b20f:function(t,e,n){},bb8a:function(t,e,n){},bd43:function(t,e,n){"use strict";var o=n("e38f"),a=n.n(o);a.a},e38f:function(t,e,n){},e774:function(t,e,n){"use strict";var o=n("bb8a"),a=n.n(o);a.a}});
//# sourceMappingURL=app.fc8ad7c7.js.map